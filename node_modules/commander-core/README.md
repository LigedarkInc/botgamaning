commander-core - ÑÑ‚Ð¾ ÑÐ´Ñ€Ð¾ Ð´Ð»Ñ Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸ÐºÐ° ÐºÐ¾Ð¼Ð°Ð½Ð´, Ð¾ÑÐ½Ð¾Ð²Ð°Ð½ Ð½Ð° [cocoscore](https://www.npmjs.com/package/cocoscore), Ð½Ð°Ð¿Ð¸ÑÐ°Ð½ Ð½Ð° [Node.js](https://nodejs.org)

| ðŸ“š [Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ](https://github.com/Frodi1998/commander-core/tree/master/docs) | ðŸ“ [ÐŸÑ€Ð¸Ð¼ÐµÑ€Ñ‹](https://github.com/Frodi1998/commander-core/tree/master/examples) | ðŸ’¬ [Ð‘ÐµÑÐµÐ´Ð°](https://vk.me/join/AJQ1d9IUCxhdW8s6imiygUU1)
|---------------------|---------------------|---------------------|

Ð£ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ°

## NPM
```
npm i commander-core
```
Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ

ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¾ÑÐ½Ð¾Ð²Ð°Ð½ Ð½Ð° [vk-io](https://www.npmjs.com/package/vk-io), Ð²Ñ‹ Ð¼Ð¾Ð¶ÐµÑ‚Ðµ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ñ€ÑƒÐ³Ð¾Ðµ
```js
const { Handler } = require('commander-core');
const { VK } = require('vk-io');
const { format } = require('fecha')

const TOKEN = process.env.TOKEN
const GROUP_ID = process.env.GROUP_ID
const vk = new VK({token: TOKEN})

const params = {
	getDateTime() {
		return format(new Date(), 'D.MM.YY H:mm:ss')
	}
}

const developerId = process.env.developerId;

const handler = new Handler({
	commandsDirectory: './commands',
	logsDirectory: './logs',
	developerId,
	...params
});

handler.listener.on('command_error', async(context, bot, error) =>{
	context.send(`ÐŸÑ€Ð¾Ð¸Ð·Ð¾ÑˆÐ»Ð° Ð½ÐµÐ¿Ñ€ÐµÐ´Ð²Ð¸Ð´ÐµÐ½Ð½Ð°Ñ Ð¾ÑˆÐ¸Ð±ÐºÐ°`)
	if(bot.developerId) {
		vk.api.messages.send({
			user_ids: bot.developerId,
			message: `ÐžÑˆÐ¸Ð±ÐºÐ° Ð² ÐºÐ¾Ð¼Ð°Ð½Ð´Ðµ ${bot.command.name}:
				${context.senderId} => ${context.command}
				${error.stack}`
		})
	}
});

handler.listener.on('command_not_found', async(context, bot) =>{
	if(!context.isChat) {
		context.send(
			`â— Ð’Ð²ÐµÐ´ÐµÐ½Ð½Ð¾Ð¹ Ð²Ð°Ð¼Ð¸ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚!
			ðŸŽ’ Ð§Ñ‚Ð¾Ð±Ñ‹ ÑƒÐ·Ð½Ð°Ñ‚ÑŒ ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ¾Ð¼Ð°Ð½Ð´ Ð²Ð²ÐµÐ´Ð¸Ñ‚Ðµ "ÐŸÐ¾Ð¼Ð¾Ñ‰ÑŒ"`
		)
	} 
});

vk.updates.on('message', async(context, next)=>{
	if(context.isGroup) return;

	context.text = context.text.replace(/^\[club(\d+)\|(.*)\]/i, '').trim();

	await handler.execute(context);
})

vk.updates.start()
.then(x=>{
	console.log('Ð¡Ñ‚Ð°Ñ€Ñ‚')
})
```
ÐŸÑ€Ð¸Ð¼ÐµÑ€ ÐºÐ¾Ð¼Ð°Ð½Ð´Ñ‹
```js
const { Command } = require('commander-core');

module.exports = new Command({
	pattern: /^(?:date)$/i,
	name: 'Ð´Ð°Ñ‚Ð°',
	description: 'Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð´Ð°Ñ‚Ñ‹',
	params: {
		commandType: 'date'
	},
	async handler(context, bot) {
		context.send(bot.getDateTime());
	}
})
```